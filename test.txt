(bot_env) sean@server:~/Drongo$ cd /home/sean/Drongo && python3 test_leveling_system.py
🧪 Starting Leveling System Comprehensive Tests
============================================================

📋 XP Calculation Tests
----------------------------------------
Testing XP calculation formulas...
   ✅ Message: 'Hello world...' -> 7 XP
   ✅ Message: 'A...' -> 5 XP
   ✅ Message: '...' -> 0 XP
   ✅ Message: '   ...' -> 0 XP
   ❌ Message: 'This is a longer message with many words and characters to test the XP calculation formula properly' - Expected: 25 (max cap), Got: 23
❌ XP Calculation Tests: FAILED

📋 Level Progression Tests
----------------------------------------
Testing level progression formulas...
   ✅ 0 XP -> Level 0
   ✅ 150 XP -> Level 1
   ✅ 400 XP -> Level 2
   ✅ 750 XP -> Level 3
   ✅ 1200 XP -> Level 4
   ✅ 10000 XP -> Level 13
   ✅ Level 1 requires 150 XP
   ✅ Level 2 requires 400 XP
   ✅ Level 3 requires 750 XP
   ✅ Level 4 requires 1200 XP
   ✅ Level 5 requires 1750 XP
   ✅ Progress calculation: 28% complete
✅ Level Progression Tests: PASSED

📋 Anti-Abuse System Tests
----------------------------------------
Testing anti-abuse systems...
   ⚠️ Message: 'Hi' - Message too short
   ⚠️ Message: 'A' - Message too short
   ✅ Message: 'Hello world' - Valid
   ✅ Message: 'This is a good message' - Valid
   ✅ Channel blacklist working: Channel blacklisted
✅ Anti-Abuse System Tests: PASSED

📋 Database Integration Tests
----------------------------------------
Testing database integration...
ERROR:root:Database operation error: FOREIGN KEY constraint failed
   ❌ Database test error: FOREIGN KEY constraint failed
❌ Database Integration Tests: FAILED

📋 Configuration Tests
----------------------------------------
Testing configuration management...
   ✅ Default config created correctly
   ✅ Config caching working
✅ Configuration Tests: PASSED

📋 Performance Tests
----------------------------------------
Testing performance...
   ✅ XP calculation performance: 0.001s for 1000 calculations
   ✅ Level calculation performance: 0.000s
✅ Performance Tests: PASSED

📋 Error Handling Tests
----------------------------------------
Testing error handling...
   ✅ None input handled correctly
   ✅ Negative XP handled correctly
   ✅ Invalid guild ID handled correctly
✅ Error Handling Tests: PASSED

============================================================
🏁 TEST SUMMARY
✅ Passed: 5
❌ Failed: 2
📊 Total:  7

💥 SOME TESTS FAILED! Please review the issues above.